# üîê LightCrypto

–°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö –º–µ—Ç–æ–¥–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:
- **LibSodium** ‚Äî –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–∞ –±–∞–∑–µ ChaCha20-Poly1305 —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–º–µ–Ω–æ–º –∫–ª—é—á–∞–º–∏
- **Custom Digital Codec** ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–µ—Ö–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É Ethernet-–∫–∞–¥—Ä–æ–≤ —á–µ—Ä–µ–∑ TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ñ–∞–π–ª–æ–≤.

- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Å–±–æ—Ä–∫–∞)
- [–ú–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è](#-–º–µ—Ç–æ–¥—ã-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è)
  - [LibSodium (ChaCha20-Poly1305)](#-libsodium-chacha20-poly1305)
  - [Custom Digital Codec](#-custom-digital-codec)
- [–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#Ô∏è-–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-pyqt6)
- [–ó–∞–ø—É—Å–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∑–∞–ø—É—Å–∫-–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ tap_encrypt.cpp     // –®–∏—Ñ—Ä—É–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞–¥—Ä—ã/—Å–æ–æ–±—â–µ–Ω–∏—è/—Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ tap_decrypt.cpp     // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –∫–∞–¥—Ä—ã/—Å–æ–æ–±—â–µ–Ω–∏—è/—Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ digital_codec.cpp   // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Custom Digital Codec
‚îú‚îÄ‚îÄ digital_codec.h     // –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –∫–æ–¥–µ–∫–∞
‚îú‚îÄ‚îÄ file_transfer.cpp   // –ü—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤
‚îî‚îÄ‚îÄ test_speed.cpp      // –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

build/                  // –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
gui/                    // –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Tkinter (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)
gui_qt/                 // –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ PyQt6 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
CipherKeys/             // CSV —Ñ–∞–π–ª—ã —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ –¥–ª—è Custom Codec
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

### üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Linux (Ubuntu/Debian)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `libsodium-dev`, `iproute2`, `tcpdump`, `iputils-ping`, `iperf`, `hping3`
- **Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–¥–ª—è GUI): `python3-pyqt6`
- **–ü—Ä–∞–≤–∞**: `sudo` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
sudo apt update
sudo apt install -y libsodium-dev iproute2 tcpdump iputils-ping iperf hping3 \
    python3-tk python3-pip python3-dev python3-pyqt6
```

### üî® –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
mkdir -p build
g++ -o build/tap_encrypt src/tap_encrypt.cpp -lsodium -pthread
g++ -o build/tap_decrypt src/tap_decrypt.cpp -lsodium -pthread
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏:

```bash
bash rebuild.sh
```

---

## üîê –ú–µ—Ç–æ–¥—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### üõ°Ô∏è LibSodium (ChaCha20-Poly1305)

**–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–π.

#### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

1. **–û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ (ECDH)**: 
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Ç–æ–∫–æ–ª X25519 (Curve25519) –¥–ª—è –æ–±–º–µ–Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ —á–µ—Ä–µ–∑ UDP
   - –ö–∞–∂–¥–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∞—Ä—É –∫–ª—é—á–µ–π (–ø—É–±–ª–∏—á–Ω—ã–π/–ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
   - –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –æ–±—â–∏–π —Å–µ–∫—Ä–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π

2. **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (ChaCha20-Poly1305)**:
   - ChaCha20 ‚Äî –ø–æ—Ç–æ–∫–æ–≤—ã–π —à–∏—Ñ—Ä –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
   - Poly1305 ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
   - AEAD —Ä–µ–∂–∏–º (Authenticated Encryption with Associated Data)

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏**:
   - SHA-256 —Ö–µ—à –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –¥–∞–Ω–Ω—ã–º –ø–µ—Ä–µ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
   - –ü–æ—Å–ª–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Ö–µ—à –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–µ–º
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### –ó–∞–ø—É—Å–∫:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt [IP] [PORT]
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.0.0.0:12345
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt [IP_–ø–æ–ª—É—á–∞—Ç–µ–ª—è] [PORT]
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 127.0.0.1:12345
```

---

### üßÆ Custom Digital Codec

**–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º** —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –ø–æ–º–µ—Ö–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é.

#### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

1. **–†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Å–∏–º–≤–æ–ª—ã (Q –±–∏—Ç –Ω–∞ —Å–∏–º–≤–æ–ª)
   - –ö–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (CSV)
   - –§—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤—É—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (h1, h2)
   - –†–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–æ–≤—ã–º –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–∏–º–≤–æ–ª–æ–º

2. **–°—Ö–µ–º–∞ 1-1**:
   - –ö–∞–∂–¥—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ –ø–∞—Ä—É –±–ª–æ–∫–æ–≤ [h, v]
   - –ë–ª–æ–∫ `h` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
   - –ë–ª–æ–∫ `v` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–ª–æ–∫–∞ `h` –∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –°–æ—Å—Ç–æ—è–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è: h2 ‚Üê h1, h1 ‚Üê v

3. **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞**:
   ```
   –î–ª—è —Å–∏–º–≤–æ–ª–∞ x (0..2^Q-1):
   h = f_x(h1, h2) = COEFF[x][a]¬∑g(h1) + COEFF[x][b]¬∑g(h2) + COEFF[x][q]
   v = f_x(h, h1) = COEFF[x][a]¬∑g(h) + COEFF[x][b]¬∑g(h1) + COEFF[x][q]
   ```
   –ì–¥–µ `g()` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (–ª–∏–Ω–µ–π–Ω–∞—è, –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è, –∫—É–±–∏—á–µ—Å–∫–∞—è –∏ —Ç.–¥.)

4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (Decode11ext)**:
   - –ü—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≥–∏–ø–æ—Ç–µ–∑—ã –æ–± –æ—à–∏–±–∫–∞—Ö
   - –ï—Å–ª–∏ –±–ª–æ–∫ –Ω–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≥–∏–ø–æ—Ç–µ–∑–∞ –æ–± –æ—à–∏–±–∫–µ –≤ `h` –∏–ª–∏ `v`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –±–ª–æ–∫–∞—Ö

5. **–ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞**:
   - –í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –∫–æ–Ω–µ—á–Ω–æ–º –ø–æ–ª–µ GF(2^M) —Å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø–æ –º–æ–¥—É–ª—é 2^M
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ M –æ—Ç 1 –¥–æ 31 –±–∏—Ç

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **M** (bitsM): –†–∞–∑—Ä—è–¥–Ω–æ—Å—Ç—å –∫–æ–¥–µ–∫–∞ (1-31), –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä –±–ª–æ–∫–∞
- **Q** (bitsQ): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–∏—Ç –Ω–∞ —Å–∏–º–≤–æ–ª (1-16)
- **funType**: –¢–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:
  - `1`: a¬∑x + b¬∑y + q (–ª–∏–Ω–µ–π–Ω–∞—è)
  - `2`: a¬∑x¬≤ + b¬∑y + q (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –ø–æ x)
  - `3`: a¬∑x¬≤ + b¬∑y¬≤ + q (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)
  - `4`: a¬∑x¬≥ + b¬∑y¬≤ + q (–∫—É–±–∏—á–µ—Å–∫–∞—è –ø–æ x)
  - `5`: a¬∑x + b¬∑x¬∑y + c¬∑y + q (–±–∏–ª–∏–Ω–µ–π–Ω–∞—è)
- **h1, h2**: –ù–∞—á–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∞
- **CSV —Ñ–∞–π–ª**: –¢–∞–±–ª–∏—Ü–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (2^Q —Å—Ç—Ä–æ–∫, 3 –∏–ª–∏ 4 —Å—Ç–æ–ª–±—Ü–∞)

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ü–æ–º–µ—Ö–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π)
- ‚úÖ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

#### –ó–∞–ø—É—Å–∫:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt --codec <–ø—É—Ç—å_–∫_csv> --M <M> --Q <Q> --fun <—Ç–∏–ø> \
    --h1 <h1> --h2 <h2> [IP] [PORT]
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt --codec <–ø—É—Ç—å_–∫_csv> --M <M> --Q <Q> --fun <—Ç–∏–ø> \
    --h1 <h1> --h2 <h2> [IP_–ø–æ–ª—É—á–∞—Ç–µ–ª—è] [PORT]
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
# –ü—Ä–∏—ë–º–Ω–∏–∫
sudo ./build/tap_decrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 0.0.0.0 12345

# –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å
sudo ./build/tap_encrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 127.0.0.1 12345
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏:

- `--debug`: –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –≥–∏–ø–æ—Ç–µ–∑)
- `--inject-errors --error-rate <0.0-1.0>`: –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üñ•Ô∏è –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (PyQt6)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyQt6

```bash
sudo apt install python3-pyqt6
```

### üöÄ –ó–∞–ø—É—Å–∫ GUI

```bash
cd gui_qt
python3 main.py
```

–∏–ª–∏ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
python3 gui_qt/main.py
```

### ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ GUI

- **–í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**: LibSodium –∏–ª–∏ Custom Digital Codec
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏**: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã**:
  - üîÄ Ethernet –∫–∞–¥—Ä—ã (TAP) ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
  - üí¨ –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (`--msg`) ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - üìÅ –û—Ç–ø—Ä–∞–≤–∫–∞/–ø—Ä–∏–µ–º —Ñ–∞–π–ª–æ–≤ (`--file`) ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Custom Codec**:
  - –í—ã–±–æ—Ä CSV —Ñ–∞–π–ª–∞ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ M, Q, —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π h1, h2
  - –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: iperf —Å–µ—Ä–≤–µ—Ä—ã, tcpdump
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞**: ping, iperf, hping3
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**: –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üì° –†–µ–∂–∏–º –ø–µ—Ä–µ–¥–∞—á–∏ Ethernet-–∫–∞–¥—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è Ethernet-–∫–∞–¥—Ä–æ–≤ —á–µ—Ä–µ–∑ TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–Ω–∞ –æ–¥–Ω–æ–º –ü–ö):

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 (–ø—Ä–∏—ë–º–Ω–∏–∫):
sudo ./build/tap_decrypt

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):
sudo ./build/tap_encrypt
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IP `127.0.0.1` –∏ –ø–æ—Ä—Ç `12345`.

#### –ó–∞–ø—É—Å–∫ –ø–æ —Å–µ—Ç–∏ (–Ω–∞ –¥–≤—É—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö):

**–ù–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–µ:**
```bash
sudo ./build/tap_decrypt 0.0.0.0 5555
```

**–ù–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ:**
```bash
sudo ./build/tap_encrypt 192.168.1.2 5555
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º TAP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –∏—Ö –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

**–ù–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ (tap0):**
```bash
sudo ip link set tap0 up
sudo ip addr add 10.0.0.1/24 dev tap0
```

**–ù–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–µ (tap1):**
```bash
sudo ip link set tap1 up
sudo ip addr add 10.0.0.2/24 dev tap1
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
bash setup_tap_pair.sh
```

---

### üí¨ –†–µ–∂–∏–º –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (`--msg`)

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —à–∏—Ñ—Ä—É—é—Ç –∏ –ø–µ—Ä–µ–¥–∞—é—Ç —Å—Ç—Ä–æ–∫–∏, –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é.

#### LibSodium:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt --msg [IP] [PORT]
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt --msg [IP_–ø–æ–ª—É—á–∞—Ç–µ–ª—è] [PORT]
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤–≤–æ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è ‚Äî –æ–Ω –±—É–¥–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏—ë–º–Ω–∏–∫–∞.

#### Custom Codec:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 --msg 0.0.0.0 12345
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 --msg 127.0.0.1 12345
```

---

### üìÅ –†–µ–∂–∏–º –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ (`--file`)

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–µ—Ä–µ–¥–∞—é—Ç —Ñ–∞–π–ª—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–±–∏–≤–∫–æ–π –Ω–∞ —á–∞–Ω–∫–∏.

#### LibSodium:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt --file [IP] [PORT]
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt --file <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É> [IP_–ø–æ–ª—É—á–∞—Ç–µ–ª—è] [PORT]
```

#### Custom Codec:

**–ü—Ä–∏—ë–º–Ω–∏–∫:**
```bash
sudo ./build/tap_decrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 --file 0.0.0.0 12345
```

**–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:**
```bash
sudo ./build/tap_encrypt --codec CipherKeys/Q=2.csv --M 8 --Q 2 --fun 1 --h1 7 --h2 23 --file <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É> 127.0.0.1 12345
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üåê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ç–µ–≤—ã—Ö –Ω–µ–π–º—Å–ø–µ–π—Å–∞—Ö

–î–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –Ω–µ–π–º—Å–ø–µ–π—Å—ã Linux:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–π–º—Å–ø–µ–π—Å–æ–≤
sudo ip netns add ns1
sudo ip netns add ns2

# –°–æ–∑–¥–∞–Ω–∏–µ TAP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
sudo ip netns exec ns1 ip tuntap add dev tap0 mode tap
sudo ip netns exec ns1 ip addr add 10.0.0.1/24 dev tap0
sudo ip netns exec ns1 ip link set tap0 up

sudo ip netns exec ns2 ip tuntap add dev tap1 mode tap
sudo ip netns exec ns2 ip addr add 10.0.0.2/24 dev tap1
sudo ip netns exec ns2 ip link set tap1 up

# –°–æ–∑–¥–∞–Ω–∏–µ veth –ø–∞—Ä—ã –¥–ª—è —Å–≤—è–∑–∏
sudo ip link add veth1 type veth peer name veth2
sudo ip link set veth1 netns ns1
sudo ip link set veth2 netns ns2
sudo ip netns exec ns1 ip addr add 192.168.1.1/24 dev veth1
sudo ip netns exec ns1 ip link set veth1 up
sudo ip netns exec ns2 ip addr add 192.168.1.2/24 dev veth2
sudo ip netns exec ns2 ip link set veth2 up

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º
sudo ip netns exec ns2 ./build/tap_decrypt 192.168.1.2 12345
sudo ip netns exec ns1 ./build/tap_encrypt 192.168.1.2 12345

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
sudo ip netns exec ns1 ping 10.0.0.2
```

### üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

#### –° iperf:

**TCP:**
```bash
# –°–µ—Ä–≤–µ—Ä (–≤ ns2 –∏–ª–∏ –Ω–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–µ):
iperf -s -B 10.0.0.2

# –ö–ª–∏–µ–Ω—Ç (–≤ ns1 –∏–ª–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ):
iperf -c 10.0.0.2 -t 10
```

**UDP:**
```bash
# –°–µ—Ä–≤–µ—Ä:
iperf -s -u -B 10.0.0.2

# –ö–ª–∏–µ–Ω—Ç:
iperf -c 10.0.0.2 -u -t 10 -b 100M
```

#### –° hping3:

```bash
# TCP SYN –ø–∞–∫–µ—Ç—ã:
sudo hping3 10.0.0.2 -S -p 80 -c 10

# UDP –ø–∞–∫–µ—Ç—ã:
sudo hping3 10.0.0.2 -2 -p 5000 -c 10
```

### üìä –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ LibSodium

```bash
g++ -g src/test_speed.cpp -lsodium -o build/test_speed
./build/test_speed
```

–í—ã–≤–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è/—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ ChaCha20-Poly1305.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

### LibSodium:
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Poly1305
- SHA-256 —Ö–µ—à –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –¥–∞–Ω–Ω—ã–º –ø–µ—Ä–µ–¥ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
- –ü–æ—Å–ª–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Ö–µ—à –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### Custom Codec:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º Decode11ext
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑ –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –±–ª–æ–∫–∞—Ö h –∏ v
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SHA-256 —Ö–µ—à–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)

---

## üåê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–≤—É—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –¥–≤—É—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, —Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö Ethernet-–∫–∞–±–µ–ª–µ–º:

### üîß –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞


#### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):**
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ enp0s3 –Ω–∞ –≤–∞—à Ethernet-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—É–∑–Ω–∞—Ç—å: ip link show)
sudo ip addr add 192.168.100.1/24 dev enp0s3
sudo ip link set enp0s3 up
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B (–ø—Ä–∏—ë–º–Ω–∏–∫):**
```bash
sudo ip addr add 192.168.100.2/24 dev enp0s3
sudo ip link set enp0s3 up
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏:**
```bash
# –° —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ A:
ping -c 3 192.168.100.2

# –° —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ B:
ping -c 3 192.168.100.1
```

–ï—Å–ª–∏ ping —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Å–µ—Ç—å –≥–æ—Ç–æ–≤–∞! ‚úÖ

**–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
```bash
sudo ufw allow 12345/udp
```

---

### üõ°Ô∏è –¢–µ—Å—Ç 1: LibSodium —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

#### –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ B (–ø—Ä–∏—ë–º–Ω–∏–∫):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_decrypt 0.0.0.0 12345
```

–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–π:
```
üåê –û–∂–∏–¥–∞–µ–º –ø–∞–∫–µ—Ç—ã –Ω–∞ IP: 0.0.0.0, –ø–æ—Ä—Ç: 12345
üì° tap1 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö Ethernet-–∫–∞–¥—Ä–æ–≤
```

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap1** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_B.sh
```

#### –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_encrypt 192.168.100.2 12345
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏:
```
üì§ –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—é
üì• –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è
üîÑ –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤–∫–ª—é—á–µ–Ω–∞
```

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap0** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_A.sh
```

**–®–∞–≥ 4: –¢–µ—Å—Ç ping**
```bash
ping 10.0.0.2
```

---

### üßÆ –¢–µ—Å—Ç 2: Custom Digital Codec

#### –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ B (–ø—Ä–∏—ë–º–Ω–∏–∫):

```bash
# –û—á–∏—Å—Ç–∫–∞
./cleanup_tap.sh

# –ó–∞–ø—É—Å–∫
sudo ./build/tap_decrypt \
  --codec CipherKeys/QDM-6.csv \
  --M 8 \
  --Q 6 \
  --fun 3 \
  --h1 1337 \
  --h2 -2048 \
  0.0.0.0 12345

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ tap1
./setup_tap_B.sh
```

#### –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):

```bash
# –û—á–∏—Å—Ç–∫–∞
./cleanup_tap.sh

# –ó–∞–ø—É—Å–∫ (–í–ê–ñ–ù–û: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å!)
sudo ./build/tap_encrypt \
  --codec CipherKeys/QDM-6.csv \
  --M 8 \
  --Q 6 \
  --fun 3 \
  --h1 1337 \
  --h2 -2048 \
  192.168.100.2 12345

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ tap0
./setup_tap_A.sh

# –¢–µ—Å—Ç
ping 10.0.0.2
```

---

### üìä –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ ping –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

#### Ping —Ç–µ—Å—Ç (–∑–∞–¥–µ—Ä–∂–∫–∞):
```bash
ping -c 10 10.0.0.2
```

#### iperf3 TCP (–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å):

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B (—Å–µ—Ä–≤–µ—Ä):**
```bash
iperf3 -s -B 10.0.0.2
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A (–∫–ª–∏–µ–Ω—Ç):**
```bash
iperf3 -c 10.0.0.2 -t 30
```

#### iperf3 UDP:
```bash
# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A
iperf3 -c 10.0.0.2 -u -b 100M -t 30
```

#### hping3 (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø–∞–∫–µ—Ç–æ–≤):
```bash
# TCP SYN –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -S -p 80 -c 10

# UDP –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -2 -p 5000 -c 10
```

---

### üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ü—Ä–æ–±–ª–µ–º–∞: "Destination Host Unreachable"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–ø—É—â–µ–Ω—ã: `ps aux | grep tap_`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å TAP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤: `ip link show tap0` –∏ `ip link show tap1`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –∞–¥—Ä–µ—Å–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã: `ip addr show tap0` –∏ `ip addr show tap1`

**–ü—Ä–æ–±–ª–µ–º–∞: –û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ –Ω–µ –ø—Ä–æ—à–µ–ª (LibSodium)**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏—ë–º–Ω–∏–∫ –∑–∞–ø—É—â–µ–Ω –ü–ï–†–ï–î –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª: `sudo ufw allow 12345/udp`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑—å: `ping 192.168.100.2`

**–ü—Ä–æ–±–ª–µ–º–∞: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (Custom Codec)**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ: CSV —Ñ–∞–π–ª, --M, --Q, --fun, --h1, --h2
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSV —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤:**
```bash
# –ù–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
./cleanup_tap.sh
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### TAP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ `sudo`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `/dev/net/tun` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `ls -l /dev/net/tun`

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Custom Codec:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSV —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (2^Q)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã M, Q, funType —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç CSV —Ñ–∞–π–ª—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è h1, h2 (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–ª—è M –±–∏—Ç)

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã: `sudo netstat -tulpn | grep 12345`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π—Ä–≤–æ–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UDP —Ç—Ä–∞—Ñ–∏–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö. LibSodium —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π ISC.

---

## üë• –ê–≤—Ç–æ—Ä—ã

–ü—Ä–æ–µ–∫—Ç LightCrypto ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LibSodium –∏ Custom Digital Codec.
