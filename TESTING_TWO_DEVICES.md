# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö –≤–∏–¥–æ–≤ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

## üîß –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

### –ù–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
sudo apt install -y libsodium-dev iproute2 tcpdump iputils-ping iperf3 hping3
```

2. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
```bash
cd /path/to/LightCrypto
mkdir -p build
cd build
cmake ..
make
cd ..
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A:**
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ enp0s3 –Ω–∞ –≤–∞—à Ethernet-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
sudo ip addr add 192.168.100.1/24 dev enp0s3
sudo ip link set enp0s3 up
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B:**
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ enp0s3 –Ω–∞ –≤–∞—à Ethernet-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
sudo ip addr add 192.168.100.2/24 dev enp0s3
sudo ip link set enp0s3 up
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏:**
```bash
ping -c 3 192.168.100.2  # —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ A
ping -c 3 192.168.100.1  # —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ B
```

–ï—Å–ª–∏ ping —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Å–µ—Ç—å –≥–æ—Ç–æ–≤–∞! ‚úÖ

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### üßπ –û—á–∏—Å—Ç–∫–∞ (–Ω–∞ –ª—é–±–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)
```bash
./cleanup_tap.sh
```
–£–¥–∞–ª—è–µ—Ç –≤—Å–µ tap-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã.

---

## üöÄ –¢–µ—Å—Ç 1: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ libsodium

### –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ B (–ø–æ–ª—É—á–∞—Ç–µ–ª—å):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_decrypt 0.0.0.0 12345
```

–ñ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
```
üåê –û–∂–∏–¥–∞–µ–º –ø–∞–∫–µ—Ç—ã –Ω–∞ IP: 0.0.0.0, –ø–æ—Ä—Ç: 12345
üì° tap1 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö Ethernet-–∫–∞–¥—Ä–æ–≤
```

‚Üí –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞—Å—Ç tap1

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap1** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_B.sh
```

---

### –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ A (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_encrypt 192.168.100.2 12345
```

–ñ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ–±–º–µ–Ω–µ –∫–ª—é—á–∞–º–∏:
```
üì§ –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—é
üì• –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è
üîÑ –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤–∫–ª—é—á–µ–Ω–∞
```

‚Üí –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞—Å—Ç tap0

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap0** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_A.sh
```

**–®–∞–≥ 4: –¢–µ—Å—Ç ping**
```bash
ping 10.0.0.2
```

---

### –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è libsodium

#### 4.1. Ping —Ç–µ—Å—Ç (–∑–∞–¥–µ—Ä–∂–∫–∞)

**–ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A:**
```bash
ping -c 10 10.0.0.2
```

**–ó–∞–ø–∏—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- min/avg/max RTT
- packet loss

#### 4.2. iperf3 TCP (–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª 3:**
```bash
iperf3 -s -B 10.0.0.2
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª 3:**
```bash
iperf3 -c 10.0.0.2 -t 30
```

**–ó–∞–ø–∏—à–∏—Ç–µ:** Throughput (Mbits/sec)

#### 4.3. iperf3 UDP (–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å UDP)

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B:** (—Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω)

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A:**
```bash
iperf3 -c 10.0.0.2 -u -b 100M -t 30
```

**–ó–∞–ø–∏—à–∏—Ç–µ:** Throughput, Jitter, Lost packets

#### 4.4. hping3 (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –ø–∞–∫–µ—Ç–æ–≤)

**–ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A:**
```bash
# TCP SYN –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -S -p 80 -c 10

# UDP –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -2 -p 5000 -c 10
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–∞ 1

```bash
# –ù–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
./cleanup_tap.sh
```

---

## üöÄ –¢–µ—Å—Ç 2: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã–º –∫–æ–¥–µ–∫–æ–º

### –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ B (–ø–æ–ª—É—á–∞—Ç–µ–ª—å):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_decrypt \
  --codec CipherKeys/QDM-6.csv \
  --M 8 \
  --Q 6 \
  --fun 3 \
  --h1 1337 \
  --h2 -2048 \
  0.0.0.0 12345
```

–ñ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
```
üåê –û–∂–∏–¥–∞–µ–º –ø–∞–∫–µ—Ç—ã –Ω–∞ IP: 0.0.0.0, –ø–æ—Ä—Ç: 12345
üì° tap1 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö Ethernet-–∫–∞–¥—Ä–æ–≤
üéõÔ∏è  –†–µ–∂–∏–º —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–¥–µ–∫–∞ ‚Äî –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
üéõÔ∏è  –¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫ –≤–∫–ª—é—á—ë–Ω (M=8, Q=6, fun=3)
```

‚Üí –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞—Å—Ç tap1

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap1** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_B.sh
```

---

### –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ A (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å):

**–®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞**
```bash
cd /path/to/LightCrypto
./cleanup_tap.sh
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã**
```bash
sudo ./build/tap_encrypt \
  --codec CipherKeys/QDM-6.csv \
  --M 8 \
  --Q 6 \
  --fun 3 \
  --h1 1337 \
  --h2 -2048 \
  192.168.100.2 12345
```

–ñ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
```
üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º IP: 192.168.100.2, –ø–æ—Ä—Ç: 12345
üì° tap0 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è Ethernet-–∫–∞–¥—Ä–æ–≤
üéõÔ∏è  –†–µ–∂–∏–º —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–¥–µ–∫–∞ ‚Äî –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
üéõÔ∏è  –¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫ –≤–∫–ª—é—á—ë–Ω (M=8, Q=6, fun=3)
```

‚Üí –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞—Å—Ç tap0

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ tap0** (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
./setup_tap_A.sh
```

**–®–∞–≥ 4: –¢–µ—Å—Ç ping**
```bash
ping 10.0.0.2
```

---

### –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–¥–µ–∫–∞

#### 4.1. Ping —Ç–µ—Å—Ç
```bash
ping -c 10 10.0.0.2
```

#### 4.2. iperf3 TCP
```bash
# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª 3
iperf3 -s -B 10.0.0.2

# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª 3
iperf3 -c 10.0.0.2 -t 30
```

#### 4.3. iperf3 UDP
```bash
# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A
iperf3 -c 10.0.0.2 -u -b 100M -t 30
```

#### 4.4. hping3
```bash
# TCP SYN –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -S -p 80 -c 10

# UDP –ø–∞–∫–µ—Ç—ã
sudo hping3 10.0.0.2 -2 -p 5000 -c 10
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–∞ 2

```bash
# –ù–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
./cleanup_tap.sh
```

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –¢–µ—Å—Ç | libsodium | –¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫ |
|------|-----------|----------------|
| **Ping (10 –ø–∞–∫–µ—Ç–æ–≤)** | | |
| - min RTT (ms) | _____ | _____ |
| - avg RTT (ms) | _____ | _____ |
| - max RTT (ms) | _____ | _____ |
| - packet loss (%) | _____ | _____ |
| **iperf3 TCP (30 —Å–µ–∫)** | | |
| - Throughput (Mbits/sec) | _____ | _____ |
| **iperf3 UDP (30 —Å–µ–∫, 100M)** | | |
| - Throughput (Mbits/sec) | _____ | _____ |
| - Jitter (ms) | _____ | _____ |
| - Lost packets (%) | _____ | _____ |
| **hping3 TCP (10 –ø–∞–∫–µ—Ç–æ–≤)** | | |
| - Success rate (%) | _____ | _____ |

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤

```bash
# –ú–∞–ª–µ–Ω—å–∫–∏–µ –ø–∞–∫–µ—Ç—ã
ping -c 10 -s 56 10.0.0.2

# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
ping -c 10 -s 1000 10.0.0.2

# –ë–æ–ª—å—à–∏–µ –ø–∞–∫–µ—Ç—ã
ping -c 10 -s 1400 10.0.0.2
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞

**–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ (–º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏):**
```bash
# –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A
sudo tcpdump -i enp0s3 udp port 12345 -n -c 20
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ (–≤ tap):**
```bash
# –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A
sudo tcpdump -i tap0 -n -c 20
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Destination Host Unreachable"

**–ü—Ä–∏—á–∏–Ω–∞:** tap-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∑–∞–ø—É—â–µ–Ω—ã
ps aux | grep tap_

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ tap-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã UP
ip link show tap0  # –Ω–∞ A
ip link show tap1  # –Ω–∞ B

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP-–∞–¥—Ä–µ—Å–∞
ip addr show tap0  # –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 10.0.0.1/24
ip addr show tap1  # –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 10.0.0.2/24

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ARP
ip neigh show dev tap0  # –Ω–∞ A
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ –Ω–µ –ø—Ä–æ—à–µ–ª (libsodium)

**–°–∏–º–ø—Ç–æ–º—ã:** –ù–µ –≤–∏–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π "–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –ø–æ–ª—É—á–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:
# 1. –°–ù–ê–ß–ê–õ–ê B, –ø–æ—Ç–æ–º A
# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
sudo ufw allow 12345/udp
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ú–Ω–æ–≥–æ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏
- –°–ª–∞–±–æ–µ –∂–µ–ª–µ–∑–æ
- –ë–æ–ª—å—à–æ–π overhead —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç–µ—Å—Ç–∞:**
```bash
# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ –≤—ã–≤–æ–¥ –≤ /dev/null
sudo ./build/tap_encrypt ... > /dev/null 2>&1
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫)

**–°–∏–º–ø—Ç–æ–º—ã:** Ping –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–µ

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö:
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ CSV-—Ñ–∞–π–ª
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ --M, --Q, --fun, --h1, --h2

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
- [ ] –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã Ethernet-–∫–∞–±–µ–ª–µ–º
- [ ] IP 192.168.100.1 –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ A
- [ ] IP 192.168.100.2 –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ B
- [ ] Ping –º–µ–∂–¥—É 192.168.100.1 ‚Üî 192.168.100.2 —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ—Ä—Ç 12345/UDP –æ—Ç–∫—Ä—ã—Ç –≤ firewall
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –Ω–∞ –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### –¢–µ—Å—Ç libsodium:
- [ ] –ó–∞–ø—É—â–µ–Ω tap_decrypt –Ω–∞ B
- [ ] –ó–∞–ø—É—â–µ–Ω tap_encrypt –Ω–∞ A
- [ ] –û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã tap0 –∏ tap1
- [ ] Ping 10.0.0.2 —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç—ã iperf3 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø–∏—Å–∞–Ω—ã

### –¢–µ—Å—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫:
- [ ] –ó–∞–ø—É—â–µ–Ω tap_decrypt —Å --codec –Ω–∞ B
- [ ] –ó–∞–ø—É—â–µ–Ω tap_encrypt —Å --codec –Ω–∞ A
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã tap0 –∏ tap1
- [ ] Ping 10.0.0.2 —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç—ã iperf3 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø–∏—Å–∞–Ω—ã

---

## üìù –ö—Ä–∞—Ç–∫–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞:

```
–ö–æ–º–ø—å—é—Ç–µ—Ä B:
1. ./cleanup_tap.sh
2. sudo ./build/tap_decrypt [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
3. ./setup_tap_B.sh (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

–ö–æ–º–ø—å—é—Ç–µ—Ä A:
4. ./cleanup_tap.sh
5. sudo ./build/tap_encrypt [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
6. ./setup_tap_A.sh (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
7. ping 10.0.0.2
8. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (iperf3, hping3)
9. –ó–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
10. –û–±–∞: ./cleanup_tap.sh
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

**libsodium:**
- decrypt: `0.0.0.0 12345`
- encrypt: `192.168.100.2 12345`

**–¶–∏—Ñ—Ä–æ–≤–æ–π –∫–æ–¥–µ–∫:**
- decrypt: `--codec CipherKeys/QDM-6.csv --M 8 --Q 6 --fun 3 --h1 1337 --h2 -2048 0.0.0.0 12345`
- encrypt: `--codec CipherKeys/QDM-6.csv --M 8 --Q 6 --fun 3 --h1 1337 --h2 -2048 192.168.100.2 12345`
